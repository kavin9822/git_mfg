<div class="row visible-print-block">
    <div class="col-md-4"><img class="img-circle" src="<?php if(isset($themePath)){echo $themePath;} ?>/dist/img/user7-128x128.jpg" alt="User Avatar"></div>            
    <div class="col-md-4">
        <h3 class="widget-user-username text-center"><?php if(isset($report_title)){echo $report_title;} ?></h3>
       <h5 class="widget-user-desc  text-center"><?php if(isset($report_desc)){echo $report_desc;} ?></h5>
    </div>
    <div class="col-md-4"></div>
</div><!-- /header -->


<div class="box box-info">
    <div class="box-header">
        <h3 class="box-title  hidden-print"><?php if(isset($form_title)){echo $form_title;} ?></h3>

        <form class="form-horizontal" action="<?php echo $home . '/' . $module . '/' . $controller . '/' . $method; ?>" method="post">

            <div class="row hidden-print">
                <div class="col-xs-4"><?php if(isset($widget_2)){echo $widget_2;} ?></div>
                <div class="col-xs-8 text-right">
                    <button class="btn btn-info" onclick="javascript:window.print()">Print</button>
                    <input style="margin-right: 20px; margin-left: 20px;" class="btn btn-info" type="submit" name = "req_from_list_view" value="Submit">
                    <input style="margin-right: 20px; margin-left: 20px" class="btn btn-info" type="submit" name = "req_from_list_view" value="Edit">  
                    <input style="margin-right: 20px; margin-left: 20px" class="btn btn-info" type="submit" name = "req_from_list_view" value="Reset">  
                </div>
            </div>

            <div class="box-body">
                <div class="dataTables_wrapper form-inline dt-bootstrap" id="example1_wrapper">

                    <div class="row">
                        <div class="col-sm-12 table-responsive">
                            <table aria-describedby="example1_info" role="grid" id="example1" class="table table-bordered table-striped dataTable table-responsive">
                                <thead  style="background-color:#ECF0F5;">
                                    <tr role="row">
                                        <th width="20px"  class="hidden-print">S.No</th>
                                        <th width="70px">Permissions</th>
                                            <?php
                                            foreach ($table_columns as $tab_columns) :
                                                ?>
                                                    <th aria-label="Rendering engine: activate to sort column descending" aria-sort="ascending" style="width: 150px;" colspan="1" rowspan="1" aria-controls="example1" tabindex="0" class="sorting_asc">
                                                <?php
                                                echo $tab_columns;
                                                ?>
                                            </th>
                                    <?php endforeach; ?>     
                                    </tr>
                                </thead>
                                <tbody>
                                    
                                    <?php 
                                    $sNo =1;
                                    if($role_permission_data){
                                     $jsonrpd = json_encode($role_permission_data);
                                    }
                                    
                                    foreach ($table_rows as $table_rows_key => $table_rows_value) : ?>
                                       
                                    <tr role="row" >
                                            <td><?php echo $sNo; ?></td>
                                            <td><?php echo ($table_rows_key); ?></td>
                                            <?php
                                            $total_no_cols = count($table_columns);
                                            
                                             $selectBoxData = array(
                                                   'options' => $table_rows_value
                                                );
                                             
                                             foreach ($table_columns as $colKEY => $not_used) :
                                              /*
                                               * $colKEY refers the role id
                                               */
                                            ?>
                                                <td><?php 
                                                $selectBoxData['name'] = $sNo.'_'.$colKEY;
                                                /*
                                                 * Incase of edit
                                                 */
                                                
                                                
                                                ?>
                                                <select class="form-control" style="width:100%" name="<?php echo $selectBoxData['name']; ?>">
                                                <?php 
                                                /*
                                                 * this is select box for permission used to assign to a role
                                                 * opt_key is the permission id
                                                 * opt_value is the permission title
                                                 */
                                                foreach ($selectBoxData['options'] as $opt_key => $opt_value): 
                                                    $isselected = '';    
                                                    if(isset($role_permission_data)){
                                                       //string '[["2","2"],["2","90"],["2","127"]]'
                                                       //roleid,permissionid
                                                       $ptn = '["'.$colKEY.'","'.$opt_key.'"]';
                                                        if(preg_match($ptn, $jsonrpd)){    
                                                            $isselected = 'selected="selected"'; 
                                                        }
                                                    }    
                                                     ?>
                                                    <option <?php echo $isselected;?> value="<?php echo $opt_key;?>"><?php echo $opt_value;?></option>
                                                    
                                                <?php endforeach; ?> 
                                                </select>
                                                </td>
                                            <?php
                                                endforeach;
                                            ?>
                                        </tr>
                                            <?php $sNo++; endforeach; ?>
                                </tbody>
                                <tfoot style="background-color:#ECF0F5;">
                                    <tr class=" text-right  hidden-print">
                                        <th colspan="<?php echo $total_no_cols + 2; ?>" rowspan="1">
                                                <button class="btn btn-info" onclick="javascript:window.print()">Print</button>
                                                <input style="margin-right: 20px; margin-left: 20px;" class="btn btn-info" type="submit" name = "req_from_list_view" value="Submit">
                                                <input style="margin-right: 20px; margin-left: 20px" class="btn btn-info" type="submit" name = "req_from_list_view" value="Edit">  
                                                <input style="margin-right: 20px; margin-left: 20px" class="btn btn-info" type="submit" name = "req_from_list_view" value="Reset">
                                        </th>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                    
                  <!-- pagination part can come here -->
                
                </div>
            </div><!-- /.box-body -->
        </form>
    </div>
    
<!-- /.Print footer -->    
<div class="col-lg-10 visible-print-block">
        <h3 class="widget-user-username text-right">Signature</h3>
</div><!-- /header -->
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        